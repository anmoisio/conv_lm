Experiment: morph/smit-new
Job ID: 55800129
Task ID: 
Host: csl48.int.triton.aalto.fi
Start date: Wed Sep 23 07:55:21 EEST 2020
Work directory: /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new
Temporary directory: /tmp/55800129

Currently Loaded Modules:
  1) GCCcore/6.4.0
  2) binutils/2.28-GCCcore-6.4.0
  3) GCC/6.4.0-2.28
  4) openfst/1.6.6-GCC-6.4.0
  5) OpenBLAS/0.2.20-GCC-6.4.0-2.28
  6) CUDA/9.0.176
  7) CUB/1.8.0
  8) sctk/2.4.10
  9) sph2pipe/2.5
 10) kaldi-vanilla/7637de7-GCC-6.4.0-2.28-OPENBLAS

 

srcdir /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/lm/data/lm/dspweb/morph-42k
mname morph-42k
pdir /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/lm/data/lm/dspweb
model_type dspweb
+ export LC_ALL=C
+ LC_ALL=C
+ echo 'common/make_recog_dict.sh /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/lm/data/lm/dspweb/morph-42k/vocab' /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/data/dicts/dspweb_morph-42k
common/make_recog_dict.sh /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/lm/data/lm/dspweb/morph-42k/vocab /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/data/dicts/dspweb_morph-42k
+ '[' -f path.sh ']'
+ . ./path.sh
+ . utils/parse_options.sh
++ (( argpos=1 ))
++ (( argpos<2 ))
++ '[' /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/lm/data/lm/dspweb/morph-42k/vocab == --config ']'
++ (( argpos++ ))
++ (( argpos<2 ))
++ true
++ '[' -z /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/lm/data/lm/dspweb/morph-42k/vocab ']'
++ case "$1" in
++ break
++ '[' '!' -z '' ']'
++ true
+ '[' 2 '!=' 2 ']'
+ vocab=/scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/lm/data/lm/dspweb/morph-42k/vocab
+ outdir=/scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/data/dicts/dspweb_morph-42k
+ mkdir -p tmp
++ mktemp -d -p tmp/
+ tmpdir=tmp/tmp.hfjp1Tqv7R
+ echo 'Tmpdir: tmp/tmp.hfjp1Tqv7R'
Tmpdir: tmp/tmp.hfjp1Tqv7R
+ rvocab=tmp/tmp.hfjp1Tqv7R/rvocab
+ common/make_upp_low_map.py tmp/tmp.hfjp1Tqv7R/vocab_map
+ cat /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/lm/data/lm/dspweb/morph-42k/vocab
+ '[' -f definitions/dict_prep/low_map ']'
+ common/filter_lex.py - tmp/tmp.hfjp1Tqv7R/rvocab tmp/tmp.hfjp1Tqv7R/found.lex tmp/tmp.hfjp1Tqv7R/oov
+ cat data/lexicon/lexicon.txt data/lexicon/lex
cat: data/lexicon/lexicon.txt: No such file or directory
cat: data/lexicon/lex: No such file or directory
+ echo '[oov] SPN'
+ /scratch/work/moisioa3/conv_lm/scripts/vocab2dict-fi.pl -read=tmp/tmp.hfjp1Tqv7R/rvocab
+ cp data/lexicon/silence_phones.txt tmp/tmp.hfjp1Tqv7R/silence_phones.txt
+ sort -u
+ cp data/lexicon/extra_questions.txt tmp/tmp.hfjp1Tqv7R/extra_questions.txt
+ sort -u
+ echo SIL
+ echo ba
ba
+ egrep -v '^(SIL|SPN|NSN)$'
+ sort -u
+ tr ' ' '\n'
+ cut '-d ' -f2- /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/data/dicts/dspweb_morph-42k/lexicon.txt
+ rm -Rf tmp/tmp.hfjp1Tqv7R
+ echo na
na
utils/prepare_lang.sh /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/data/dicts/dspweb_morph-42k [oov] /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/data/langs/dspweb_morph-42k/local /scratch/work/moisioa3/conv_lm/experiments/morph/smit-new/data/langs/dspweb_morph-42k --phone-symbol-table data/lang/phones.txt --num-extra-phone-disambig-syms 3
Usage: utils/prepare_lang.sh <dict-src-dir> <oov-dict-entry> <tmp-dir> <lang-dir>
e.g.: utils/prepare_lang.sh data/local/dict <SPOKEN_NOISE> data/local/lang data/lang
<dict-src-dir> should contain the following files:
 extra_questions.txt  lexicon.txt nonsilence_phones.txt  optional_silence.txt  silence_phones.txt
See http://kaldi-asr.org/doc/data_prep.html#data_prep_lang_creating for more info.
options: 
<dict-src-dir> may also, for the grammar-decoding case (see http://kaldi-asr.org/doc/grammar.html)
contain a file nonterminals.txt containing symbols like #nonterm:contact_list, one per line.
     --num-sil-states <number of states>             # default: 5, #states in silence models.
     --num-nonsil-states <number of states>          # default: 3, #states in non-silence models.
     --position-dependent-phones (true|false)        # default: true; if true, use _B, _E, _S & _I
                                                     # markers on phones to indicate word-internal positions. 
     --share-silence-phones (true|false)             # default: false; if true, share pdfs of 
                                                     # all silence phones. 
     --sil-prob <probability of silence>             # default: 0.5 [must have 0 <= silprob < 1]
     --phone-symbol-table <filename>                 # default: ""; if not empty, use the provided 
                                                     # phones.txt as phone symbol table. This is useful 
                                                     # if you use a new dictionary for the existing setup.
     --unk-fst <text-fst>                            # default: none.  e.g. exp/make_unk_lm/unk_fst.txt.
                                                     # This is for if you want to model the unknown word
                                                     # via a phone-level LM rather than a special phone
                                                     # (this should be more useful for test-time than train-time).
     --extra-word-disambig-syms <filename>           # default: ""; if not empty, add disambiguation symbols
                                                     # from this file (one per line) to phones/disambig.txt,
                                                     # phones/wdisambig.txt and words.txt
