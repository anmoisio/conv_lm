Experiment: theanolm-morph-42k/expt2-sampled-seq40
Job ID: 55667446
Task ID: 
Host: gpu32.int.triton.aalto.fi
Start date: Fri Sep 11 17:22:21 EEST 2020
Work directory: /scratch/work/moisioa3/conv_lm/experiments/theanolm-morph-42k/expt2-sampled-seq40
Temporary directory: /tmp/55667446

Currently Loaded Modules:
  1) srilm/default      3) cuda/10.0.130
  2) anaconda3/latest   4) cudnn/7.4.2-cuda

 

awk: cmd. line:3: fatal: cannot open file `/scratch/work/moisioa3/conv_lm/experiments/theanolm-morph-42k/expt2-sampled-seq40/weights' for reading (No such file or directory)
floatX=float32,device=cuda0,base_compiledir=/tmp/theano,exception_verbosity=high,openmp=False
WARNING (theano.tensor.blas): Using NumPy C-API based implementation for BLAS functions.
/scratch/work/groszt1/envs/theanoLM/lib/python3.7/site-packages/theano/gpuarray/dnn.py:184: UserWarning: Your cuDNN version is more recent than Theano. If you encounter problems, try updating Theano or downgrading cuDNN to a version >= v5 and <= v7.
  warnings.warn("Your cuDNN version is more recent than "
Using cuDNN version 7402 on context None
Mapped name None to device cuda0: Tesla V100-PCIE-32GB (0000:18:00.0)
TheanoLM 1.3.2
Theano 1.0.4
pygpu 0.7.6
==
+ srun --gres=gpu:1 theanolm train /scratch/work/moisioa3/conv_lm/experiments/theanolm-morph-42k/expt2-sampled-seq40/nnlm.h5 --training-set /scratch/work/moisioa3/conv_lm/data/segmented/42k/dsp.txt /scratch/work/moisioa3/conv_lm/data/segmented/42k/web.txt --validation-file /scratch/work/moisioa3/conv_lm/data/segmented/42k/devel.txt --sequence-length 40 --batch-size 24 --optimization-method adagrad --stopping-criterion annealing-count --cost cross-entropy --learning-rate 0.1 --gradient-decay-rate 0.9 --numerical-stability-term 1e-6 --num-noise-samples 500 --noise-dampening 0.5 --noise-sharing batch --validation-frequency 5 --patience 2 --max-epochs 25 --min-epochs 1 --random-seed 1 --log-level debug --log-interval 1000 --gradient-normalization 5 --architecture /scratch/work/moisioa3/conv_lm/configs/word+proj500+lstm1500+htanh1500x4+dropout0.2+softmax.arch --sampling
WARNING (theano.tensor.blas): Using NumPy C-API based implementation for BLAS functions.
2020-09-11 17:23:15,541 _read_vocabulary: Constructing vocabulary from training set.
2020-09-11 17:23:50,581 _read_vocabulary: Number of words in vocabulary: 42699
2020-09-11 17:23:50,581 _read_vocabulary: Number of words in shortlist: 42699
2020-09-11 17:23:50,581 _read_vocabulary: Number of word classes: 42699
2020-09-11 17:23:50,582 log_options: Training options:
2020-09-11 17:23:50,582 log_options:   batch_size: 24
2020-09-11 17:23:50,582 log_options:   max_annealing_count: 0
2020-09-11 17:23:50,582 log_options:   max_epochs: 25
2020-09-11 17:23:50,582 log_options:   min_epochs: 1
2020-09-11 17:23:50,583 log_options:   patience: 2
2020-09-11 17:23:50,583 log_options:   sequence_length: 40
2020-09-11 17:23:50,583 log_options:   stopping_criterion: annealing-count
2020-09-11 17:23:50,583 log_options:   validation_frequency: 5
2020-09-11 17:23:50,583 log_options: Optimization options:
2020-09-11 17:23:50,583 log_options:   epsilon=1e-06
2020-09-11 17:23:50,583 log_options:   gradient_decay_rate=0.9
2020-09-11 17:23:50,583 log_options:   learning_rate=0.1
2020-09-11 17:23:50,583 log_options:   max_gradient_norm=5.0
2020-09-11 17:23:50,583 log_options:   method=adagrad
2020-09-11 17:23:50,583 log_options:   momentum=0.9
2020-09-11 17:23:50,583 log_options:   noise_sharing=batch
2020-09-11 17:23:50,584 log_options:   num_noise_samples=500
2020-09-11 17:23:50,584 log_options:   sqr_gradient_decay_rate=0.999
2020-09-11 17:23:50,584 log_options:   weights=[1. 1.]
2020-09-11 17:23:50,584 log_options:   cost_function=cross-entropy
2020-09-11 17:23:50,584 log_options:   noise_distribution=uniform
2020-09-11 17:23:50,584 log_options:   noise_dampening=0
2020-09-11 17:23:50,584 log_options:   noise_sharing=batch
2020-09-11 17:23:50,585 log_options:   exclude_unk=no
2020-09-11 17:23:50,585 log_options:   l1_regularization=0.000000
2020-09-11 17:23:50,585 log_options:   l2_regularization=0.000000
2020-09-11 17:23:50,585 log_options: Data sampling: []
2020-09-11 17:23:50,585 train: Creating trainer.
Computing the number of mini-batches in training data.
srun: Job step aborted: Waiting up to 32 seconds for job step to finish.
slurmstepd: error: *** STEP 55667446.0 ON gpu32 CANCELLED AT 2020-09-11T17:24:59 ***
slurmstepd: error: *** JOB 55667446 ON gpu32 CANCELLED AT 2020-09-11T17:24:59 ***
Job has already finished for job 55667446
